<?xml version="1.0" encoding="UTF-8" ?>   
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.tsjx.user.dao.impl.UserDaoImpl">

	<select id="getUsersByParam" parameterType="map" resultType="cn.com.tsjx.user.entity.User">
		SELECT 
		       ID id,
		       USER_NAME userName,
		       MOBILE mobile,
		       TELEPHONE telephone,
		       EMAIL email,
		       PASSWORD password,
		       QQ qq,
		       PROVINCE province,
		       CITY city,
		       BUSINESS_SCOPE businessScope,
		       BUSINESS_NATURE businessNature,
		       USER_TYPE userType,
		       CREATE_TIME createTime,
		       UPDATE_TIME updateTime,
		       DELETED deleted,
		       COMPANY_ID companyId
		       FROM TSJX_USER t
		       WHERE
		       (t.email = #{userName,jdbcType=VARCHAR}
		       or t.user_name = #{userName,jdbcType=VARCHAR}
			   or t.mobile = #{userName,jdbcType=VARCHAR}) 
		       and password = #{password,jdbcType=VARCHAR}
		       and deleted = #{deleted,jdbcType=VARCHAR}
	</select>
</mapper>   
